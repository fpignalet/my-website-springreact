<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jasmine Spec Runner v3.3.0</title>

  <link rel="shortcut icon" type="image/png" href="lib/jasmine-3.3.0/jasmine_favicon.png">
  <link rel="stylesheet" href="lib/jasmine-3.3.0/jasmine.css">

  <script src="lib/jasmine-3.3.0/jasmine.js"></script>
  <script src="lib/jasmine-3.3.0/jasmine-html.js"></script>
  <script src="lib/jasmine-3.3.0/boot.js"></script>

</head>

<body>
<script type="module">
  import {
    CLISIDE_DOM
  } from "../lib/clientside";

  //-----------------------------------------------------------
  try {
    describe( "unittests", function () {

      it("test CLISIDE_DOM instances", function () {
        let inst;

        inst = new CLISIDE_DOM("test");
        expect(inst.index).toEqual(0);

        inst = new CLISIDE_DOM("test");
        expect(inst.index).toEqual(1);
      });

      it("test CLISIDE_DOM.updatefield", function () {
        const itm = document.createElement("div");
        itm.setAttribute("id", "test");
        document.body.appendChild(itm);

        const inst = new CLISIDE_DOM("test");
        inst.updatefield(document, "test1", "TEST");
        expect(document.getElementById("test1").innerHTML).toBe("TEST");
      });

      it("test CLISIDE_DOM.addtext", function () {
        const inst = new CLISIDE_DOM("test");
        inst.addtext(document, "test2", "TEST");
        expect(document.getElementById("test2").innerHTML).toBe("TEST");
      });

      it("test CLISIDE_DOM.addbutton", function () {
        const inst = new CLISIDE_DOM("test");
        inst.addbutton(document, [ "test3", "TEST" ], null);
        expect(document.getElementById("test3")).toBeDefined();
      });

      it("test CLISIDE_DOM.addimage", function () {
        const inst = new CLISIDE_DOM("test");
        inst.addimage(document, "test4", "path");
        expect(document.getElementById("test4")).toBeDefined();
      });

    });
  }
  catch (e) {
    console.log(e.name)
  }
  finally {
    //...
  }

</script>

</body>
</html>
